{% extends 'base.html' %}
{% load static %}

{% block title%}LOHAE - 즐거움 랜덤박스{% endblock %}

{% block link %}{% static 'css/buy_item.css' %}{% endblock %}


<script src="#"></script>

{% block content %}

<!-- Main Content -->
<main>
  <!-- 제품명 -->
  <div class="whiteBox">
    <div class="container">
      <!-- 그림 -->
      <div class="itempicture">
        <img id="itemPicture" src="{% static 'images/즐거움랜덤박스.png'%}" alt="item1" >
    </div>

  <!--  제품이름 금액 구매하기 버튼까지  -->
  
    <div class=" itemDetail2">
        <div class="itemdetailForGrid">

          <div class="itemTitle">
            즐거움 랜덤박스
          </div>
          <div class="itemRow1">
            판매가
          </div>
          <div class="itemColumn1">
            20000원(vat 포함)
          </div>
          <div class="itemCRow2">
            배송비
          </div>
          <div class="itemColumn2">
            <div>
              총 결제금액이 40,000원 미만 시
            </div>
            <div>배송비2,500원이 청구됩니다.
            </div>
          </div>

          <div class="itemRow3">
            전화주문
          </div>
          <div class="itemColumn3">
            070-7739-5179
            (평일 10:00~17:00 | 점심시간 12:00~13:00)
          </div>

          <div class="itemRow4">
            상품선택
          </div>
          <div class="itemColumn4">
            <div class='select-box'>
              <p> 즐거움 랜덤박스 A </p>
              <img id='select1-down' src="{% static 'images/arrow.jpg' %}"/>
              <p id='select1-value'> 0 </p>
              <img id='select1-up' src="{% static 'images/uparrow.png' %}"/>
            </div>
            <div class='select-box'>
              <p> 즐거움 랜덤박스 B </p>
              <img id='select2-down' src="{% static 'images/arrow.jpg' %}"/>
              <p id='select2-value'> 0 </p>
              <img id='select2-up' src="{% static 'images/uparrow.png' %}"/>
            </div>
            <div class='select-box'>
              <p> 즐거움 랜덤박스 C </p>
              <img id='select3-down' src="{% static 'images/arrow.jpg' %}"/>
              <p id='select3-value'> 0 </p>
              <img id='select3-up' src="{% static 'images/uparrow.png' %}"/>
            </div>
          </div>

          <div class='total-box'>
            <p>   합 계 :    </p>
          </div>
          <div style="display:flex; margin-top:37px;">
            <p id='total-price' >0</p><p>원 </p>
            

          </div>


          
          <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
          <script type="text/javascript">
            $(function () {
              // select1 box
              $("#select1-down").click(() => {
                $targetEl = $("#select1-value")[0];
                if (parseInt($targetEl.innerHTML) - 1 < 0) return
                else {
                  $targetEl.innerHTML = parseInt($targetEl.innerHTML) - 1;
                  $totalEl = $('#total-price')[0];
                  $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                  $totalEl.innerHTML = (parseInt($totalEl.innerHTML) - 20000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                }
              })
              $("#select1-up").click(() => {
                $targetEl = $("#select1-value")[0];
                $targetEl.innerHTML = parseInt($targetEl.innerHTML) + 1;
                $totalEl = $('#total-price')[0];
                $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                $totalEl.innerHTML = (parseInt($totalEl.innerHTML) + 20000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
              })
              // select2 box
              $("#select2-down").click(() => {
                $targetEl = $("#select2-value")[0];
                if (parseInt($targetEl.innerHTML) - 1 < 0) return
                else {
                  $targetEl.innerHTML = parseInt($targetEl.innerHTML) - 1;
                  $totalEl = $('#total-price')[0];
                  $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                  $totalEl.innerHTML = (parseInt($totalEl.innerHTML) - 30000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                }
              })
              $("#select2-up").click(() => {
                $targetEl = $("#select2-value")[0];
                $targetEl.innerHTML = parseInt($targetEl.innerHTML) + 1;
                $totalEl = $('#total-price')[0];
                $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                $totalEl.innerHTML = (parseInt($totalEl.innerHTML) + 30000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
              })
              // select3 box
              $("#select3-down").click(() => {
                $targetEl = $("#select3-value")[0];
                if (parseInt($targetEl.innerHTML) - 1 < 0) return
                else {
                  $targetEl.innerHTML = parseInt($targetEl.innerHTML) - 1;
                  $totalEl = $('#total-price')[0];
                  $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                  $totalEl.innerHTML = (parseInt($totalEl.innerHTML) - 40000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                }
              })
              $("#select3-up").click(() => {
                $targetEl = $("#select3-value")[0];
                $targetEl.innerHTML = parseInt($targetEl.innerHTML) + 1;
                $totalEl = $('#total-price')[0];
                $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                $totalEl.innerHTML = (parseInt($totalEl.innerHTML) + 40000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
              })
              $("select.opt").change(function () {
                $temp = 0;
                // 0원으로 시작
                $originPrice = 0;
                $.each($("form#form1 :selected"), function () {
                  var str = $(this).val();
                  if (!str) {
                    var eachPrice = 0;
                    $temp = $temp + eachPrice;
                  } else {
                    var eachPrice = str.split("-----");
                    eachPrice = parseInt(eachPrice[2]);
                    $temp = $temp + eachPrice;
                  }
                });
                $totalPrice = $temp + $originPrice;
                $("input#totalPrice").val($totalPrice);
              });
            });
          </script>
          <div class="itemRow6">
            <button class="buy" type="button" onclick="location.href='{% url 'write_messages' %}' ">구매하기</button>
          </div>
        </div>
      </div>



      <!-- //사진 밑 구성 글 -->
      <div clas="itemComposition">
        <div class="itemComp">
          <div>
            <div class="itemcompTitle">
              구성품
            </div>
          </div>
          <div class="itemDescription">
            박스A : 독서 세트

            박스B : 보드게임 세트

            박스C : 재배 세트



            느타리버섯 재배키트

            콩나물 재배키트

            딸기재배키트

            테이블야자키트

            수경식물 재배키트

            다수의 보드게임
            
            판타지, 호러 장르 등
            다양한 종류의 소설

            자기계발서

            에세이


          </div>
        </div>
      </div>
    </div>

    <!-- //상세설명 및 구성품 사진들 -->
    <div class="itemPicture" style="margin-left:120px; margin-bottom: 100px;">
      <img src="{% static 'images/2_SETA.png'%}" alt="detail">
      <img src="{% static 'images/2_SETB.png'%}" alt="detail">
      <img src="{% static 'images/2_SETC.png'%}" alt="detail">
    </div>
  </div>
</main>
{% endblock %}