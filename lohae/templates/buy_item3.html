{% extends 'base.html' %}
{% load static %}

{% block title%}LOHAE - 소독 랜덤박스{% endblock %}

{% block link %}{% static 'css/buy_item.css' %}{% endblock %}


<script src="#"></script>

{% block content %}

<!-- Main Content -->
<main>
  <!-- 제품명 -->
  <div class="whiteBox">
    <div class="container">
      <!-- 그림 -->
      <div class="itempicture">
        <img id="itemPicture" src="{% static 'images/전자기기랜덤박스.png'%}" alt="item1" ">
    </div>

  <!--  제품이름 금액 구매하기 버튼까지  -->
  
    <div class=" itemDetail2">
        <div class="itemdetailForGrid">

          <div class="itemTitle">
            전자기기 랜덤박스
          </div>
          <div class="itemRow1">
            판매가
          </div>
          <div class="itemColumn1">
            100000원(vat 포함)
          </div>
          <div class="itemCRow2">
            배송비
          </div>
          <div class="itemColumn2">
            <div>
              총 결제금액이 40,000원 미만 시
            </div>
            <div>배송비2,500원이 청구됩니다.
            </div>
          </div>

          <div class="itemRow3">
            전화주문
          </div>
          <div class="itemColumn3">
            070-7739-5179
            (평일 10:00~17:00 | 점심시간 12:00~13:00)
          </div>

          <div class="itemRow4">
            상품선택
          </div>
          <div class="itemColumn4">
            <div class='select-box'>
              <p> 전자기기 랜덤박스 A </p>
              <img id='select1-down' src="{% static 'images/arrow.jpg' %}"/>
              <p id='select1-value'> 0 </p>
              <img id='select1-up' src="{% static 'images/uparrow.png' %}"/>
            </div>
            <div class='select-box'>
              <p> 전자기기 랜덤박스 B </p>
              <img id='select2-down' src="{% static 'images/arrow.jpg' %}"/>
              <p id='select2-value'> 0 </p>
              <img id='select2-up' src="{% static 'images/uparrow.png' %}"/>
            </div>
            <div class='select-box'>
              <p> 전자기기 랜덤박스 C </p>
              <img id='select3-down' src="{% static 'images/arrow.jpg' %}"/>
              <p id='select3-value'> 0 </p>
              <img id='select3-up' src="{% static 'images/uparrow.png' %}"/>
            </div>
          </div>

          <div class='total-box'>
            <p>   합 계 :    </p>
          </div>
          <div style="display:flex; margin-top:37px;">
            <p id='total-price' >0</p><p>원 </p>
          </div>


          
          <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
          <script type="text/javascript">
            $(function () {
              // select1 box
              $("#select1-down").click(() => {
                $targetEl = $("#select1-value")[0];
                if (parseInt($targetEl.innerHTML) - 1 < 0) return
                else {
                  $targetEl.innerHTML = parseInt($targetEl.innerHTML) - 1;
                  $totalEl = $('#total-price')[0];
                  $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                  $totalEl.innerHTML = (parseInt($totalEl.innerHTML) - 100000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                }
              })
              $("#select1-up").click(() => {
                $targetEl = $("#select1-value")[0];
                $targetEl.innerHTML = parseInt($targetEl.innerHTML) + 1;
                $totalEl = $('#total-price')[0];
                $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                $totalEl.innerHTML = (parseInt($totalEl.innerHTML) + 100000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
              })
              // select2 box
              $("#select2-down").click(() => {
                $targetEl = $("#select2-value")[0];
                if (parseInt($targetEl.innerHTML) - 1 < 0) return
                else {
                  $targetEl.innerHTML = parseInt($targetEl.innerHTML) - 1;
                  $totalEl = $('#total-price')[0];
                  $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                  $totalEl.innerHTML = (parseInt($totalEl.innerHTML) - 30000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                }
              })
              $("#select2-up").click(() => {
                $targetEl = $("#select2-value")[0];
                $targetEl.innerHTML = parseInt($targetEl.innerHTML) + 1;
                $totalEl = $('#total-price')[0];
                $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                $totalEl.innerHTML = (parseInt($totalEl.innerHTML) + 30000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
              })
              // select3 box
              $("#select3-down").click(() => {
                $targetEl = $("#select3-value")[0];
                if (parseInt($targetEl.innerHTML) - 1 < 0) return
                else {
                  $targetEl.innerHTML = parseInt($targetEl.innerHTML) - 1;
                  $totalEl = $('#total-price')[0];
                  $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                  $totalEl.innerHTML = (parseInt($totalEl.innerHTML) - 40000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                }
              })
              $("#select3-up").click(() => {
                $targetEl = $("#select3-value")[0];
                $targetEl.innerHTML = parseInt($targetEl.innerHTML) + 1;
                $totalEl = $('#total-price')[0];
                $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                $totalEl.innerHTML = (parseInt($totalEl.innerHTML) + 40000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
              })
              $("select.opt").change(function () {
                $temp = 0;
                // 0원으로 시작
                $originPrice = 0;
                $.each($("form#form1 :selected"), function () {
                  var str = $(this).val();
                  if (!str) {
                    var eachPrice = 0;
                    $temp = $temp + eachPrice;
                  } else {
                    var eachPrice = str.split("-----");
                    eachPrice = parseInt(eachPrice[2]);
                    $temp = $temp + eachPrice;
                  }
                });
                $totalPrice = $temp + $originPrice;
                $("input#totalPrice").val($totalPrice);
              });
            });
          </script>
          <div class="itemRow6">
                  <a href="{% url 'write_messages' %}"><button class="buy">구매하기</button></a>
          </div>
        </div>
      </div>
      
      <!-- //사진 밑 구성 글 -->
      <div clas="itemComposition">
        <div class="itemComp">
          <div>
            <div class="itemcompTitle">
              구성품
            </div>
          </div>
          <div class="itemDescription">
            박스A : 게임기 세트

            박스B : 음향기기 세트

            박스C : 전자기기 잡화세트



            XBOX, SWITCH, PLAYSTATION

            블루투스 마이크

            에어팟, 버즈, 

            블루투스 스피커

            애플펜슬
            
            샤오미밴드

            휴대폰케이스
            
            태블릿피씨




          </div>
        </div>
      </div>
    </div>

    <!-- //상세설명 및 구성품 사진들 -->
    <div class="itemPicture" style="margin-left:120px; margin-bottom: 100px;">
      <img src="{% static 'images/3_seta.png'%}" alt="detail">
      <img src="{% static 'images/3_setb.png'%}" alt="detail">
      <img src="{% static 'images/3_setc.png'%}" alt="detail">
    </div>
  </div>
</main>
{% endblock %}

<!-- //후기게시글 -->
<!-- <div class="reviewTable">
  <table summary="게시판의 글제목 리스트" style="margin-left:auto; margin-right: auto;">
    <caption>게시판리스트</caption>
    <colgroup>
      <col>
      <col width="110">
      <col width="100">
      <col width="80">
    </colgroup>
    <thead>
      <tr>
        <th scope="col"> 제목 </th>
        <th scope="col"> 글쓴이 </th>
        <th scope="col"> 날짜 </th>
        <th scope="col"> 조회수 </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="title">
          <a href="#"> 게시판 제목 </a>
          <img width="13" height="12" class="pic" alt="" src="#">
          <a class="comment" href="#">[5]</a><img width="10" height="9" class="new" alt="새글" src="#">
        </td>
        <td class="name"> 글쓴이 이름 </td>
        <td class="date"> 2020/10/17 </td>
         //조회수 
        <td class="hit"> 1234 </td>
      </tr>
      <tr class="reply">
        <td class="title" style="padding-left:30px;">
          <a href="#"> 답글 </a>
        </td>
        <td class="name"> 박장훈 </td>
        <td class="date"> 2020/10/17 </td>
        <td class="hit"> 123456 </td>
      </tr>
    </tbody>
  </table>
</div> -->