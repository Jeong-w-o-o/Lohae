{% extends 'base.html' %}
{% load static %}

{% block title%}LOHAE - 소독 랜덤박스{% endblock %}

{% block link %}{% static 'css/buy_item.css' %}{% endblock %}


<script src="#"></script>

{% block content %}

<!-- Main Content -->
<main>
  <!-- 제품명 -->
  <div class="whiteBox">
    <div class="container">
      <!-- 그림 -->
      <div class="itempicture">
        <img id="itemPicture" src="{% static 'images/소독랜덤박스2.png'%}" alt="item1" ">
    </div>

  <!--  제품이름 금액 구매하기 버튼까지  -->
  
    <div class=" itemDetail2">
        <div class="itemdetailForGrid">

          <div class="itemTitle">
            소독 랜덤박스
          </div>
          <div class="itemRow1">
            판매가
          </div>
          <div class="itemColumn1">
            20000원(vat 포함)
          </div>
          <div class="itemCRow2">
            배송비
          </div>
          <div class="itemColumn2">
            <div>
              총 결제금액이 40,000원 미만 시
            </div>
            <div>배송비2,500원이 청구됩니다.
            </div>
          </div>

          <div class="itemRow3">
            전화주문
          </div>
          <div class="itemColumn3">
            070-7739-5179
            (평일 10:00~17:00 | 점심시간 12:00~13:00)
          </div>

          <div class="itemRow4">
            상품선택
          </div>
          <div class="itemColumn4">
            <div class='select-box'>
              <p> 소독 랜덤박스 A </p>
              <img id='select1-down' src="{% static 'images/arrow.jpg' %}"/>
              <p id='select1-value'> 0 </p>
              <img id='select1-up' src="{% static 'images/uparrow.png' %}"/>
            </div>
            <div class='select-box'>
              <p> 소독 랜덤박스 B </p>
              <img id='select2-down' src="{% static 'images/arrow.jpg' %}"/>
              <p id='select2-value'> 0 </p>
              <img id='select2-up' src="{% static 'images/uparrow.png' %}"/>
            </div>
            <div class='select-box'>
              <p> 소독 랜덤박스 C </p>
              <img id='select3-down' src="{% static 'images/arrow.jpg' %}"/>
              <p id='select3-value'> 0 </p>
              <img id='select3-up' src="{% static 'images/uparrow.png' %}"/>
            </div>
          </div>

          <div class='total-box'>
            <p> 합 계 : </p>
            <p id='total-price'>0</p>
            <p>원 </p>
          </div>

          
          <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
          <script type="text/javascript">
            $(function () {
              // select1 box
              $("#select1-down").click(() => {
                $targetEl = $("#select1-value")[0];
                if (parseInt($targetEl.innerHTML) - 1 < 0) return
                else {
                  $targetEl.innerHTML = parseInt($targetEl.innerHTML) - 1;
                  $totalEl = $('#total-price')[0];
                  $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                  $totalEl.innerHTML = (parseInt($totalEl.innerHTML) - 20000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                }
              })
              $("#select1-up").click(() => {
                $targetEl = $("#select1-value")[0];
                $targetEl.innerHTML = parseInt($targetEl.innerHTML) + 1;
                $totalEl = $('#total-price')[0];
                $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                $totalEl.innerHTML = (parseInt($totalEl.innerHTML) + 20000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
              })
              // select2 box
              $("#select2-down").click(() => {
                $targetEl = $("#select2-value")[0];
                if (parseInt($targetEl.innerHTML) - 1 < 0) return
                else {
                  $targetEl.innerHTML = parseInt($targetEl.innerHTML) - 1;
                  $totalEl = $('#total-price')[0];
                  $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                  $totalEl.innerHTML = (parseInt($totalEl.innerHTML) - 30000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                }
              })
              $("#select2-up").click(() => {
                $targetEl = $("#select2-value")[0];
                $targetEl.innerHTML = parseInt($targetEl.innerHTML) + 1;
                $totalEl = $('#total-price')[0];
                $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                $totalEl.innerHTML = (parseInt($totalEl.innerHTML) + 30000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
              })
              // select3 box
              $("#select3-down").click(() => {
                $targetEl = $("#select3-value")[0];
                if (parseInt($targetEl.innerHTML) - 1 < 0) return
                else {
                  $targetEl.innerHTML = parseInt($targetEl.innerHTML) - 1;
                  $totalEl = $('#total-price')[0];
                  $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                  $totalEl.innerHTML = (parseInt($totalEl.innerHTML) - 40000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                }
              })
              $("#select3-up").click(() => {
                $targetEl = $("#select3-value")[0];
                $targetEl.innerHTML = parseInt($targetEl.innerHTML) + 1;
                $totalEl = $('#total-price')[0];
                $totalEl.innerHTML = $totalEl.innerHTML.replace(/,/g, "");
                $totalEl.innerHTML = (parseInt($totalEl.innerHTML) + 40000).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
              })
              $("select.opt").change(function () {
                $temp = 0;
                // 0원으로 시작
                $originPrice = 0;
                $.each($("form#form1 :selected"), function () {
                  var str = $(this).val();
                  if (!str) {
                    var eachPrice = 0;
                    $temp = $temp + eachPrice;
                  } else {
                    var eachPrice = str.split("-----");
                    eachPrice = parseInt(eachPrice[2]);
                    $temp = $temp + eachPrice;
                  }
                });
                $totalPrice = $temp + $originPrice;
                $("input#totalPrice").val($totalPrice);
              });
            });
          </script>
          <div class="itemRow6">
            <button class="buy" type="button" onclick="location.href='{% url 'write_messages' %}' ">구매하기</button>
          </div>
        </div>
      </div>



      <!-- //사진 밑 구성 글 -->
      <div clas="itemComposition">
        <div class="itemComp">
          <div>
            <div class="itemcompTitle">
              구성품
            </div>
          </div>
          <div class="itemDescription">
            박스A : 일회용 소독 세트

            박스B : 소독, 살균 세트

            박스C : 면역 강화 세트



            손소독제, 일회용마스크,

            마스크 KF97,94,

            일회용 손소독제

            소독분무기, 살균제

            살균스티커, 자외선 소독용품

            무료독감예방접종

            면역강화식품(홍삼, 생강차)




          </div>
        </div>
      </div>
    </div>

    <!-- //상세설명 및 구성품 사진들 -->
    <div class="itemPicture" style="margin-left:120px; margin-bottom: 100px;">
      <img src="{% static 'images/seta.png'%}" alt="detail">
      <img src="{% static 'images/setb.png'%}" alt="detail">
      <img src="{% static 'images/setc.png'%}" alt="detail">
    </div>
  </div>
</main>
{% endblock %}

<!-- //후기게시글 -->
<!-- <div class="reviewTable">
  <table summary="게시판의 글제목 리스트" style="margin-left:auto; margin-right: auto;">
    <caption>게시판리스트</caption>
    <colgroup>
      <col>
      <col width="110">
      <col width="100">
      <col width="80">
    </colgroup>
    <thead>
      <tr>
        <th scope="col"> 제목 </th>
        <th scope="col"> 글쓴이 </th>
        <th scope="col"> 날짜 </th>
        <th scope="col"> 조회수 </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="title">
          <a href="#"> 게시판 제목 </a>
          <img width="13" height="12" class="pic" alt="" src="#">
          <a class="comment" href="#">[5]</a><img width="10" height="9" class="new" alt="새글" src="#">
        </td>
        <td class="name"> 글쓴이 이름 </td>
        <td class="date"> 2020/10/17 </td>
         //조회수 
        <td class="hit"> 1234 </td>
      </tr>
      <tr class="reply">
        <td class="title" style="padding-left:30px;">
          <a href="#"> 답글 </a>
        </td>
        <td class="name"> 박장훈 </td>
        <td class="date"> 2020/10/17 </td>
        <td class="hit"> 123456 </td>
      </tr>
    </tbody>
  </table>
</div> -->